var pokemonRepository=function(){var n=[],o="https://pokeapi.co/api/v2/pokemon/?limit=150";return{loadList:function(){return $.ajax(o).then(function(o){o.results.forEach(function(o){!function(o){n.push(o)}({name:o.name,detailsUrl:o.url})})}).catch(function(n){console.error(n)})},loadDetails:function(n){return $.ajax(n.detailsUrl).then(function(o){n.imageUrl=o.sprites.front_default,n.height=o.height,n.types=o.types.map(function(n){return n.type.name})}).catch(function(n){console.error(n)})},addListItem:function(n){var o=$("ul"),t=$('<li class="pokemonName"></li>'),e=$('<button type="button">'+n.name+"</button>");o.append(t),t.append(e),e.on("click",function(o){modalWork.showModal(n)})},getAll:function(){return n}}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(n){pokemonRepository.addListItem(n),pokemonRepository.loadDetails(n)})});var modalWork=function(n){var o=$("#modal-container");function t(){var n=$('<div class="modal"></div>'),t=$("<button>X</button>");t.addClass("modal-close"),t.on("click",e);var a=$('<h1 class="title"></h1>'),i=$('<div class="content"></div>');n.append(t).append(a).append(i),o.append(n)}function e(){o.removeClass("is-visible")}return window.addEventListener("keydown",n=>{"Escape"===n.key&&o.hasClass("is-visible")&&e()}),o.on("click",function(n){$(n.target).is(o)&&e()}),t(),{showModal:function(n){$(".title").text(n.name),$(".content").html("<br>Pokemon Types: "+n.types+'<br><img src="'+n.imageUrl+'">'),o.addClass("is-visible")},hideModal:e,createModal:t}}();