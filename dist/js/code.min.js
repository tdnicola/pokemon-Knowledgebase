const pokemonRepository=function(){const t=[],o="https://pokeapi.co/api/v2/pokemon/?limit=150";return{loadList:function(){return $.ajax(o).then(o=>{o.results.forEach(o=>{!function(o){t.push(o)}({name:o.name,detailsUrl:o.url})})}).catch(t=>{console.error(t)})},loadDetails:function(t){return $.ajax(t.detailsUrl).then(o=>{t.imageUrl=o.sprites.front_default,t.height=o.height,t.types=o.types.map(t=>" "+t.type.name),t.ability=o.abilities.map(t=>" "+t.ability.name)}).catch(t=>{console.error(t)})},addListItem:function(t){const o=$("ul"),e=$('<li class="pokemonName"></li>'),n=$('<button type="button">'+t.name+"</button>");o.append(e),e.append(n),n.on("click",()=>{modalWork.showModal(t)})},getAll:function(){return t}}}();pokemonRepository.loadList().then(()=>{pokemonRepository.getAll().forEach(t=>{pokemonRepository.addListItem(t),pokemonRepository.loadDetails(t)})});const modalWork=(()=>{const t=$("#modal-container");function o(){const o=$('<div class="modal"></div>'),n=$("<button>X</button>");n.addClass("modal-close"),n.on("click",e);const i=$('<h1 class="title"></h1>'),a=$('<div class="content"></div>');o.append(n).append(i).append(a),t.append(o)}function e(){t.removeClass("is-visible")}return window.addEventListener("keydown",o=>{"Escape"===o.key&&t.hasClass("is-visible")&&e()}),t.on("click",o=>{$(o.target).is(t)&&e()}),o(),{showModal:function(o){$(".title").text(o.name),$(".content").html(`<br>Pokemon Types: ${o.types}<br>`+`<img src="${o.imageUrl}"> <br>`+`Pokemon Height: ${o.height} <br><br>`+`Pokemon Abilities: ${o.ability}`),t.addClass("is-visible")},hideModal:e,createModal:o}})();$(document).ready(()=>{$("#myInput").on("keydown",function(){const t=$(this).val().toLowerCase();$(".pokemonName").filter(function(){$(this).toggle($(this).text().toLowerCase().indexOf(t)>-1)})})});